<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>

    <class name="DB.CSClass" table="csclass">
        <id name="id">
            <column name="id" sql-type="int"/>
            <generator class="native"/>
        </id>
        <property name="name">
            <column name="name" sql-type="varchar(6)" not-null="true" length="6"/>
        </property>
    </class>

    <class name="DB.Teacher" table="Teacher">
        <id name="id">
            <column name="id" sql-type="int"/>
            <generator class="native"/>
        </id>
        <property name="name">
            <column name="name" sql-type="varchar(30)" not-null="true" length="30"/>
        </property>
    </class>

    <class name="DB.Subject" table="Subject">
        <id name="id">
            <column name="id" sql-type="int"/>
            <generator class="native"/>
        </id>
        <property name="name">
            <column name="name" sql-type="varchar(20)" not-null="true" length="20"/>
        </property>
        <many-to-one name="CSClass" class="DB.CSClass" column="csclass_id" not-null="true" cascade="all"/>
        <many-to-one name="teacher" class="DB.Teacher" column="teacher_id" not-null="true" cascade="all"/>
    </class>

    <class name="DB.LabBatch" table="labbatch">
        <id name="id">
            <column name="id" sql-type="int"/>
            <generator class="native"/>
        </id>
        <property name="name">
            <column name="name" sql-type="varchar(10)" not-null="true" length="10"/>
        </property>
        <many-to-one name="CSClass" class="DB.CSClass" column="csclass_id" not-null="true" cascade="all"/>
    </class>

    <class name="DB.Teacher_LabBatch" table="teacher_labbatch">
        <id name="id">
            <column name="id" sql-type="int"/>
            <generator class="native"/>
        </id>
        <many-to-one name="teacher" class="DB.Teacher" column="teacher_id" not-null="true" cascade="all"/>
        <many-to-one name="labBatch" class="DB.LabBatch" column="labbatch_id" not-null="true" cascade="all"/>
    </class>

    <class name="DB.Student" table="student">
        <id name="id">
            <column name="id" sql-type="int"/>
            <generator class="native"/>
        </id>
        <property name="roll">
            <column name="roll" sql-type="int" not-null="true" />
        </property>
        <property name="name">
            <column name="name" sql-type="varchar(40)" not-null="true" length="40"/>
        </property>
        <many-to-one name="CSClass" class="DB.CSClass" column="csclass_id" not-null="true" cascade="all"/>
    </class>

    <class name="DB.Student_Lab" table="student_lab">
        <id name="id">
            <column name="id" sql-type="int"/>
            <generator class="native"/>
        </id>
        <many-to-one name="Student" class="DB.Student" column="student_id" not-null="true" cascade="all"/>
        <many-to-one name="LabBatch" class="DB.LabBatch" column="labbatch_id" not-null="true" cascade="all"/>
    </class>

    <class name="DB.Question" table="Question">
        <id name="id">
            <column name="id" sql-type="int"/>
            <generator class="native"/>
        </id>
        <property name="name">
            <column name="name" sql-type="varchar(60)" not-null="true" length="60"/>
        </property>
    </class>

    <class name="DB.Subject_Feedback" table="subject_feedback">
        <id name="id">
            <column name="id" sql-type="int"/>
            <generator class="native"/>
        </id>
        <property name="points">
            <column name="points" sql-type="int" not-null="true"/>
        </property>
        <many-to-one name="question" class="DB.Question" column="question_id" not-null="true" cascade="all"/>
        <many-to-one name="student" class="DB.Student" column="student_id" not-null="true" cascade="all"/>
        <many-to-one name="subject" class="DB.Subject" column="subject_id" not-null="true" cascade="all"/>
    </class>

    <class name="DB.Lab_Feedback" table="lab_feedback">
        <id name="id">
            <column name="id" sql-type="int"/>
            <generator class="native"/>
        </id>
        <property name="points">
            <column name="points" sql-type="int" not-null="true" length="10"/>
        </property>
        <many-to-one name="student" class="DB.Student" column="student_id"  not-null="true" cascade="all"/>
        <many-to-one name="question" class="DB.Question" column="question_id" not-null="true" cascade="all"/>
    </class>

    <class name="DB.User" table="uuser">
        <id name="uid">
            <column name="uid" sql-type="int"/>
            <generator class="native"/>
        </id>
        <property name="name">
            <column name="name" sql-type="varchar(30)" not-null="true" unique="true"/>
        </property>
        <property name="id">
            <column name="id" sql-type="int" not-null="true" />
        </property>
        <property name="password">
            <column name="password" sql-type="varchar(16)" not-null="true" length="16"/>
        </property>
        <property name="role">
            <column name="role" sql-type="varchar(10)" not-null="true" length="10"/>
        </property>
        <property name="date">
            <column name="llogin" sql-type="timestamp"/>
        </property>
    </class>

    <class name="DB.Limit_date" table="limit_date">
        <id name="id">
            <column name="id" sql-type="int"/>
        </id>
        <property name="date">
            <column name="date" sql-type="date"/>
        </property>
        <property name="time">
            <column name="time" sql-type="time"/>
        </property>
    </class>

</hibernate-mapping>
